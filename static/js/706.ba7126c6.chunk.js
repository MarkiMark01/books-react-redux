"use strict";(self.webpackChunkbooks_react_redux=self.webpackChunkbooks_react_redux||[]).push([[706],{5706:(o,s,_)=>{_.r(s),_.d(s,{default:()=>b});var e=_(5043),t=_(8298),d=_(3216),l=_(645),n=_(5475),c=_(4117),a=_(7630),i=_(579);const k=o=>{let{uniqueBook:s,handleQuantity:_,quantity:t,totalPrice:l,handlePurchase:k}=o;const b=(0,d.Zp)(),{id:I}=(0,d.g)(),{t:r}=(0,c.Bd)(),u=(0,d.zy)(),[h,p]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{u.pathname.includes("/books/".concat(I,"/description"))?p(!0):p(!1)}),[u.pathname,I]),(0,i.jsx)("main",{children:s?(0,i.jsxs)("section",{className:a.A.bookId,children:[(0,i.jsx)("section",{className:a.A.bookId__btnBack,children:(0,i.jsx)("button",{type:"button",onClick:()=>b(-1),className:a.A.bookId__buttonBack,children:r("Back")})}),(0,i.jsxs)("section",{className:a.A.bookId__box,children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:s.image,alt:r("Book cover"),className:a.A.books__idImg})}),(0,i.jsxs)("div",{className:a.A.bookId__info,children:[(0,i.jsx)("p",{className:a.A.bookId__title,children:s.title}),(0,i.jsxs)("p",{className:a.A.bookId__author,children:[r("Book author"),": ",s.author]}),(0,i.jsxs)("p",{className:a.A.bookId__level,children:[r("Book level"),": ",s.level]}),(0,i.jsxs)("p",{className:a.A.bookId__sd,children:[r("Short description"),":"]}),(0,i.jsx)("p",{className:a.A.bookId__sDescription,children:r(s.shortDescription)}),(0,i.jsx)(n.N_,{to:"/books/".concat(I,"/description"),className:a.A.bookId__description,children:r("Full description")})]}),(0,i.jsxs)("div",{className:a.A.bookId_purchase,children:[(0,i.jsxs)("div",{className:a.A.booksId__price,children:[(0,i.jsxs)("span",{children:[r("Price"),":"]}),(0,i.jsxs)("span",{className:a.A.booksId__price2,children:["$",s.price]})]}),(0,i.jsxs)("label",{className:a.A.booksId__quantity,children:[(0,i.jsxs)("span",{children:[r("Quantity"),":"]}),(0,i.jsx)("input",{type:"number",value:t,onChange:_})]}),(0,i.jsxs)("div",{className:a.A.booksId__total,children:[(0,i.jsxs)("span",{children:[r("Total"),":"]}),(0,i.jsxs)("span",{className:a.A.booksId__total2,children:["$",l]})]}),(0,i.jsx)("div",{className:a.A.bookId__btn,children:(0,i.jsx)("button",{type:"button",onClick:k,className:a.A.bookId__button,children:r("Add to cart")})})]})]}),(0,i.jsx)("section",{className:a.A.bookId__fullDesc,children:(0,i.jsx)(d.sv,{})}),h&&(0,i.jsx)("div",{className:a.A.bookId__btn2,children:(0,i.jsx)("button",{type:"button",onClick:k,className:a.A.bookId__button2,children:r("Add to cart")})})]}):(0,i.jsx)("section",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100vh"},children:(0,i.jsx)("p",{style:{fontSize:"22px",fontWeight:600,fontFamily:"Montserrat Alternates"},children:r("The book has not been selected yet...\ud83d\udd75\ufe0f")})})})},b=()=>{const o=(0,t.d4)((o=>o.books.uniqueBook)),s=(0,t.d4)((o=>o.books.cart)),_=(0,t.wA)(),n=(0,d.Zp)(),{id:c}=(0,d.g)(),[a,b]=(0,e.useState)(1),[I,r]=(0,e.useState)(0);(0,e.useEffect)((()=>{_((0,l.Od)(c))}),[_,c]),(0,e.useEffect)((()=>{o&&u(a,o.price)}),[o,a]);const u=(o,s)=>{r((o*s).toFixed(2))};return(0,i.jsx)(k,{uniqueBook:o,handleQuantity:s=>{const _=s.target.value;let e;e=""===_?"":isNaN(_)?1:Math.max(1,Math.floor(Number(_))),b(e),u(e,o.price)},quantity:a,totalPrice:I,handlePurchase:()=>{s.some((s=>s.id===o.id))||(_((0,l._M)({id:o.id,title:o.title,price:o.price,quantity:a,totalPrice:I})),b(1),n("/cart"))}})}},7630:(o,s,_)=>{_.d(s,{A:()=>e});const e={bookId:"styles_BookId_bookId__Bj7Cn",bookId__fullDesc:"styles_BookId_bookId__fullDesc__MAELX",bookId__fullDescButton:"styles_BookId_bookId__fullDescButton__fZTAk",bookId__box:"styles_BookId_bookId__box__UyQmS",bookId__btn:"styles_BookId_bookId__btn__Gvh0C",bookId_purchase:"styles_BookId_bookId_purchase__xhOn7",bookId__buttonBack:"styles_BookId_bookId__buttonBack__kbN5i",booksId__total:"styles_BookId_booksId__total__saW0m",booksId__quantity:"styles_BookId_booksId__quantity__9EJBB",booksId__price:"styles_BookId_booksId__price__VNuDN",bookId__btnBack:"styles_BookId_bookId__btnBack__fdkhY",books__idImg:"styles_BookId_books__idImg__p3SHF",bookId__info:"styles_BookId_bookId__info__yOnme",bookId__title:"styles_BookId_bookId__title__HUMdl",bookId__author:"styles_BookId_bookId__author__B3Nfd",bookId__level:"styles_BookId_bookId__level__4GHb6",bookId__sd:"styles_BookId_bookId__sd__IDrIm",bookId__sDescription:"styles_BookId_bookId__sDescription__7z2zQ",bookId__description:"styles_BookId_bookId__description__fXlmG",booksId__price2:"styles_BookId_booksId__price2__Idnqe",booksId__total2:"styles_BookId_booksId__total2__2vgbe",bookId__button:"styles_BookId_bookId__button__vVgh6",bookId__btn2:"styles_BookId_bookId__btn2__x57Pc",bookId__button2:"styles_BookId_bookId__button2__HrqTX"}}}]);
//# sourceMappingURL=706.ba7126c6.chunk.js.map