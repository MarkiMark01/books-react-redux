{"version":3,"file":"static/js/706.ba7126c6.chunk.js","mappings":"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","sources":["components/page/BooksId/BooksIdComponents.jsx","components/page/BooksId/BooksId.jsx","webpack://books-react-redux/./src/components/page/BooksId/styles.BookId.module.scss?b0e5"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Link,\r\n  Outlet,\r\n  useNavigate,\r\n  useParams,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport styles from \"./styles.BookId.module.scss\";\r\n\r\nconst BooksIdComponents = ({\r\n  uniqueBook,\r\n  handleQuantity,\r\n  quantity,\r\n  totalPrice,\r\n  handlePurchase,\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n\r\n  const [showFullDescriptionButton, setShowFullDescriptionButton] =\r\n    useState(false);\r\n\r\n  const goBack = () => navigate(-1);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes(`/books/${id}/description`)) {\r\n      setShowFullDescriptionButton(true);\r\n    } else {\r\n      setShowFullDescriptionButton(false);\r\n    }\r\n  }, [location.pathname, id]);\r\n\r\n  return (\r\n    <main>\r\n      {uniqueBook ? (\r\n        <section className={styles.bookId}>\r\n          <section className={styles.bookId__btnBack}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={goBack}\r\n              className={styles.bookId__buttonBack}\r\n            >\r\n              {t(\"Back\")}\r\n            </button>\r\n          </section>\r\n          <section className={styles.bookId__box}>\r\n            <div>\r\n              <img\r\n                src={uniqueBook.image}\r\n                alt={t(\"Book cover\")}\r\n                className={styles.books__idImg}\r\n              />\r\n            </div>\r\n            <div className={styles.bookId__info}>\r\n              <p className={styles.bookId__title}>{uniqueBook.title}</p>\r\n              <p className={styles.bookId__author}>\r\n                {t(\"Book author\")}: {uniqueBook.author}\r\n              </p>\r\n              <p className={styles.bookId__level}>\r\n                {t(\"Book level\")}: {uniqueBook.level}\r\n              </p>\r\n              <p className={styles.bookId__sd}>{t(\"Short description\")}:</p>\r\n              <p className={styles.bookId__sDescription}>\r\n                {t(uniqueBook.shortDescription)}\r\n              </p>\r\n              <Link\r\n                to={`/books/${id}/description`}\r\n                className={styles.bookId__description}\r\n              >\r\n                {t(\"Full description\")}\r\n              </Link>\r\n            </div>\r\n            <div className={styles.bookId_purchase}>\r\n              <div className={styles.booksId__price}>\r\n                <span>{t(\"Price\")}:</span>\r\n                <span className={styles.booksId__price2}>\r\n                  ${uniqueBook.price}\r\n                </span>\r\n              </div>\r\n              <label className={styles.booksId__quantity}>\r\n                <span>{t(\"Quantity\")}:</span>\r\n                <input\r\n                  type=\"number\"\r\n                  value={quantity}\r\n                  onChange={handleQuantity}\r\n                />\r\n              </label>\r\n              <div className={styles.booksId__total}>\r\n                <span>{t(\"Total\")}:</span>\r\n                <span className={styles.booksId__total2}>${totalPrice}</span>\r\n              </div>\r\n              <div className={styles.bookId__btn}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handlePurchase}\r\n                  className={styles.bookId__button}\r\n                >\r\n                  {t(\"Add to cart\")}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <section className={styles.bookId__fullDesc}>\r\n            <Outlet />\r\n          </section>\r\n          {showFullDescriptionButton && (\r\n            <div className={styles.bookId__btn2}>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handlePurchase}\r\n                className={styles.bookId__button2}\r\n              >\r\n                {t(\"Add to cart\")}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </section>\r\n      ) : (\r\n        <section\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"center\",\r\n            height: \"100vh\",\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              fontSize: \"22px\",\r\n              fontWeight: 600,\r\n              fontFamily: \"Montserrat Alternates\",\r\n            }}\r\n          >\r\n            {t(\"The book has not been selected yet...üïµÔ∏è\")}\r\n          </p>\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default BooksIdComponents;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { addNewCart, getUniqueBooks } from \"../../redux/books/booksOperations\";\r\nimport BooksIdComponents from \"./BooksIdComponents\";\r\n\r\nconst BooksId = () => {\r\n  const uniqueBook = useSelector((state) => state.books.uniqueBook);\r\n  const cart = useSelector((state) => state.books.cart);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUniqueBooks(id));\r\n  }, [dispatch, id]);\r\n\r\n  useEffect(() => {\r\n    if (uniqueBook) {\r\n      calculateTotalPrice(quantity, uniqueBook.price);\r\n    }\r\n  }, [uniqueBook, quantity]);\r\n\r\n  const handleQuantity = (e) => {\r\n    const count = e.target.value;\r\n    let newQuantity;\r\n    if (count === \"\") {\r\n      newQuantity = \"\";\r\n    } else {\r\n      newQuantity = isNaN(count) ? 1 : Math.max(1, Math.floor(Number(count)));\r\n    }\r\n\r\n    setQuantity(newQuantity);\r\n    calculateTotalPrice(newQuantity, uniqueBook.price);\r\n  };\r\n\r\n  const calculateTotalPrice = (quantity, price) => {\r\n    const total = quantity * price;\r\n    setTotalPrice(total.toFixed(2));\r\n  };\r\n\r\n  const handlePurchase = () => {\r\n    const isBookInCart = cart.some((item) => item.id === uniqueBook.id);\r\n    if (isBookInCart) {\r\n      // toggleModalOpen();\r\n    } else {\r\n      dispatch(\r\n        addNewCart({\r\n          id: uniqueBook.id,\r\n          title: uniqueBook.title,\r\n          price: uniqueBook.price,\r\n          quantity: quantity,\r\n          totalPrice: totalPrice,\r\n        })\r\n      );\r\n      setQuantity(1);\r\n      navigate(\"/cart\");\r\n    }\r\n  };\r\n\r\n  // if (!uniqueBook) {\r\n  //   return (\r\n  //     <section className={styles.bookId__emptyBlock}>\r\n  //       <p className={styles.bookId__empty}>\r\n  //         The book has not been selected yet...\r\n  //       </p>\r\n  //     </section>\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <BooksIdComponents\r\n      uniqueBook={uniqueBook}\r\n      handleQuantity={handleQuantity}\r\n      quantity={quantity}\r\n      totalPrice={totalPrice}\r\n      handlePurchase={handlePurchase}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BooksId;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"bookId\":\"styles_BookId_bookId__Bj7Cn\",\"bookId__fullDesc\":\"styles_BookId_bookId__fullDesc__MAELX\",\"bookId__fullDescButton\":\"styles_BookId_bookId__fullDescButton__fZTAk\",\"bookId__box\":\"styles_BookId_bookId__box__UyQmS\",\"bookId__btn\":\"styles_BookId_bookId__btn__Gvh0C\",\"bookId_purchase\":\"styles_BookId_bookId_purchase__xhOn7\",\"bookId__buttonBack\":\"styles_BookId_bookId__buttonBack__kbN5i\",\"booksId__total\":\"styles_BookId_booksId__total__saW0m\",\"booksId__quantity\":\"styles_BookId_booksId__quantity__9EJBB\",\"booksId__price\":\"styles_BookId_booksId__price__VNuDN\",\"bookId__btnBack\":\"styles_BookId_bookId__btnBack__fdkhY\",\"books__idImg\":\"styles_BookId_books__idImg__p3SHF\",\"bookId__info\":\"styles_BookId_bookId__info__yOnme\",\"bookId__title\":\"styles_BookId_bookId__title__HUMdl\",\"bookId__author\":\"styles_BookId_bookId__author__B3Nfd\",\"bookId__level\":\"styles_BookId_bookId__level__4GHb6\",\"bookId__sd\":\"styles_BookId_bookId__sd__IDrIm\",\"bookId__sDescription\":\"styles_BookId_bookId__sDescription__7z2zQ\",\"bookId__description\":\"styles_BookId_bookId__description__fXlmG\",\"booksId__price2\":\"styles_BookId_booksId__price2__Idnqe\",\"booksId__total2\":\"styles_BookId_booksId__total2__2vgbe\",\"bookId__button\":\"styles_BookId_bookId__button__vVgh6\",\"bookId__btn2\":\"styles_BookId_bookId__btn2__x57Pc\",\"bookId__button2\":\"styles_BookId_bookId__button2__HrqTX\"};"],"names":["_ref","uniqueBook","handleQuantity","quantity","totalPrice","handlePurchase","navigate","useNavigate","id","useParams","t","useTranslation","location","useLocation","showFullDescriptionButton","setShowFullDescriptionButton","useState","useEffect","pathname","includes","concat","_jsx","children","_jsxs","className","styles","bookId","bookId__btnBack","type","onClick","goBack","bookId__buttonBack","bookId__box","src","image","alt","books__idImg","bookId__info","bookId__title","title","bookId__author","author","bookId__level","level","bookId__sd","bookId__sDescription","shortDescription","Link","to","bookId__description","bookId_purchase","booksId__price","booksId__price2","price","booksId__quantity","value","onChange","booksId__total","booksId__total2","bookId__btn","bookId__button","bookId__fullDesc","Outlet","bookId__btn2","bookId__button2","style","display","flexDirection","justifyContent","alignItems","height","fontSize","fontWeight","fontFamily","BooksId","useSelector","state","books","cart","dispatch","useDispatch","setQuantity","setTotalPrice","getUniqueBooks","calculateTotalPrice","toFixed","BooksIdComponents","e","count","target","newQuantity","isNaN","Math","max","floor","Number","some","item","addNewCart"],"sourceRoot":""}