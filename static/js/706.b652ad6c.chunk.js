"use strict";(self.webpackChunkbooks_react_redux=self.webpackChunkbooks_react_redux||[]).push([[706],{5706:(o,s,_)=>{_.r(s),_.d(s,{default:()=>b});var t=_(5043),e=_(8298),d=_(3216),l=_(645),n=_(5475),c=_(4117),a=_(948),i=_(579);const k=o=>{let{uniqueBook:s,handleQuantity:_,quantity:e,totalPrice:l,handlePurchase:k}=o;const b=(0,d.Zp)(),{id:I}=(0,d.g)(),{t:r}=(0,c.Bd)(),u=(0,d.zy)(),[h,p]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{u.pathname.includes("/books/".concat(I,"/description"))?p(!0):p(!1)}),[u.pathname,I]),(0,i.jsx)("main",{children:s?(0,i.jsxs)("section",{className:a.A.bookId,children:[(0,i.jsx)("section",{className:a.A.bookId__btnBack,children:(0,i.jsx)("button",{type:"button",onClick:()=>b(-1),className:a.A.bookId__buttonBack,children:r("Back")})}),(0,i.jsxs)("section",{className:a.A.bookId__box,children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:s.image,alt:r("Book cover"),className:a.A.books__idImg})}),(0,i.jsxs)("div",{className:a.A.bookId__info,children:[(0,i.jsx)("p",{className:a.A.bookId__title,children:s.title}),(0,i.jsxs)("p",{className:a.A.bookId__author,children:[r("Book author"),": ",s.author]}),(0,i.jsxs)("p",{className:a.A.bookId__level,children:[r("Book level"),": ",s.level]}),(0,i.jsxs)("p",{className:a.A.bookId__sd,children:[r("Short description"),":"]}),(0,i.jsx)("p",{className:a.A.bookId__sDescription,children:r(s.shortDescription)}),(0,i.jsx)(n.N_,{to:"/books/".concat(I,"/description"),className:a.A.bookId__description,children:r("Full description")})]}),(0,i.jsxs)("div",{className:a.A.bookId_purchase,children:[(0,i.jsxs)("div",{className:a.A.booksId__price,children:[(0,i.jsxs)("span",{children:[r("Price"),":"]}),(0,i.jsxs)("span",{className:a.A.booksId__price2,children:["$",s.price]})]}),(0,i.jsxs)("label",{className:a.A.booksId__quantity,children:[(0,i.jsxs)("span",{children:[r("Quantity"),":"]}),(0,i.jsx)("input",{type:"number",value:e,onChange:_})]}),(0,i.jsxs)("div",{className:a.A.booksId__total,children:[(0,i.jsxs)("span",{children:[r("Total"),":"]}),(0,i.jsxs)("span",{className:a.A.booksId__total2,children:["$",l]})]}),(0,i.jsx)("div",{className:a.A.bookId__btn,children:(0,i.jsx)("button",{type:"button",onClick:k,className:a.A.bookId__button,children:r("Add to cart")})})]})]}),(0,i.jsx)("section",{className:a.A.bookId__fullDesc,children:(0,i.jsx)(d.sv,{})}),h&&(0,i.jsx)("div",{className:a.A.bookId__btn2,children:(0,i.jsx)("button",{type:"button",onClick:k,className:a.A.bookId__button2,children:r("Add to cart")})})]}):(0,i.jsx)("section",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100vh"},children:(0,i.jsx)("p",{style:{fontSize:"22px",fontWeight:600,fontFamily:"Montserrat Alternates"},children:r("The book has not been selected yet...\ud83d\udd75\ufe0f")})})})},b=()=>{const o=(0,e.d4)((o=>o.books.uniqueBook)),s=(0,e.d4)((o=>o.books.cart)),_=(0,e.wA)(),n=(0,d.Zp)(),{id:c}=(0,d.g)(),[a,b]=(0,t.useState)(1),[I,r]=(0,t.useState)(0);(0,t.useEffect)((()=>{_((0,l.Od)(c))}),[_,c]),(0,t.useEffect)((()=>{o&&u(a,o.price)}),[o,a]);const u=(o,s)=>{r((o*s).toFixed(2))};return(0,i.jsx)(k,{uniqueBook:o,handleQuantity:s=>{const _=s.target.value;let t;t=""===_?"":isNaN(_)?1:Math.max(1,Math.floor(Number(_))),b(t),u(t,o.price)},quantity:a,totalPrice:I,handlePurchase:()=>{s.some((s=>s.id===o.id))||(_((0,l._M)({id:o.id,title:o.title,price:o.price,quantity:a,totalPrice:I})),b(1),n("/cart"))}})}},948:(o,s,_)=>{_.d(s,{A:()=>t});const t={bookId:"stylesBookId_bookId__oTEBN",bookId__fullDesc:"stylesBookId_bookId__fullDesc__XItKG",bookId__fullDescButton:"stylesBookId_bookId__fullDescButton__zlmga",bookId__box:"stylesBookId_bookId__box__jio0T",bookId__btn:"stylesBookId_bookId__btn__dPvLD",bookId_purchase:"stylesBookId_bookId_purchase__6VnuS",bookId__buttonBack:"stylesBookId_bookId__buttonBack__daopj",booksId__total:"stylesBookId_booksId__total__CQLkj",booksId__quantity:"stylesBookId_booksId__quantity__CwMoB",booksId__price:"stylesBookId_booksId__price__G8VFI",bookId__btnBack:"stylesBookId_bookId__btnBack__8uQ9I",books__idImg:"stylesBookId_books__idImg__kZ7Ml",bookId__info:"stylesBookId_bookId__info__RJBq1",bookId__title:"stylesBookId_bookId__title__L3srW",bookId__author:"stylesBookId_bookId__author__EEhdK",bookId__level:"stylesBookId_bookId__level__AfJKS",bookId__sd:"stylesBookId_bookId__sd__ZGnz5",bookId__sDescription:"stylesBookId_bookId__sDescription__I4NVy",bookId__description:"stylesBookId_bookId__description__BR-mD",booksId__price2:"stylesBookId_booksId__price2__Zauqs",booksId__total2:"stylesBookId_booksId__total2__v8e4R",bookId__button:"stylesBookId_bookId__button__9rdV8",bookId__btn2:"stylesBookId_bookId__btn2__WBnLZ",bookId__button2:"stylesBookId_bookId__button2__c4zM+"}}}]);
//# sourceMappingURL=706.b652ad6c.chunk.js.map