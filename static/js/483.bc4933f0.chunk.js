"use strict";(self.webpackChunkbooks_react_redux=self.webpackChunkbooks_react_redux||[]).push([[483],{8483:(e,s,o)=>{o.r(s),o.d(s,{default:()=>N});var t=o(5043),l=o(9456),r=o(3216),a=o(6154),i=o(1321),n=o(4117),c=o(4291);const _="stylesBooks_books__nq-O4",d="stylesBooks_books__filter__pBXbE",k="stylesBooks_books__mainContainer__C78Vp",u="stylesBooks_books__container__gfbRX",h="stylesBooks_books__box__a8t07",b="stylesBooks_books__button__STDJc",x="stylesBooks_book__purchase__1ClSN",m="stylesBooks_books__title__o2YKE",p="stylesBooks_books__img__yU0Ih",f="stylesBooks_books__author__sm+0k",j="stylesBooks_books__price__nODHa",y="stylesBooks_books__filterText__K7N3t",B="stylesBooks_books__filterPrice__d40r6",v=(e,s)=>{const[o,l]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const o=setTimeout((()=>{l(e)}),s);return()=>{clearTimeout(o)}}),[e,s]),o};var g=o(579);const $=e=>{let{isLoading:s,error:o,filteredBooks:l,handleView:r,textFilter:a,priceFilter:i,handlePriceFilter:$,handleTextFilter:N,user:C}=e;const{t:F}=(0,n.Bd)(),[S,w]=(0,t.useState)(a),L=v(S,400);(0,t.useEffect)((()=>{N({target:{value:L}})}),[L,N]);return(0,g.jsx)("main",{children:(0,g.jsxs)("section",{className:_,children:[(0,g.jsxs)("section",{className:d,children:[(0,g.jsx)("input",{type:"text",placeholder:F("Search by book title"),value:S,onChange:e=>{w(e.target.value)},className:y}),(0,g.jsxs)("select",{value:i,onChange:$,className:B,children:[(0,g.jsx)("option",{value:"All books",children:F("All books")}),(0,g.jsx)("option",{value:"from $0 to $15",children:F("from $0 to $15")}),(0,g.jsx)("option",{value:"from $15 to $30",children:F("from $15 to $30")}),(0,g.jsx)("option",{value:"more than $30",children:F("more than $30")})]})]}),(0,g.jsx)("section",{className:k,children:s?(0,g.jsx)(c.a,{}):o?(0,g.jsxs)("p",{style:{fontSize:"20px"},children:[F("Error"),": ",o]}):(0,g.jsx)("div",{children:l.length>0?(0,g.jsx)("ul",{className:u,children:l.map((e=>(0,g.jsxs)("li",{className:h,children:[(0,g.jsx)("img",{src:e.image,alt:F("Book cover"),className:p}),(0,g.jsx)("p",{className:m,children:e.title}),(0,g.jsx)("p",{className:f,children:e.author}),(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("p",{className:j,children:["$",e.price]}),(0,g.jsx)("button",{type:"button",onClick:()=>r(e),className:b,children:F("View")})]})]},e.id)))}):(0,g.jsx)("p",{style:{fontSize:"20px"},children:F("Books not found...")})})})]})})},N=()=>{const e=(0,l.d4)((e=>e.books.books)),s=(0,l.d4)((e=>e.books.isLoading)),o=(0,l.d4)((e=>e.books.error)),n=(0,l.d4)((e=>e.auth.user)),c=(0,l.wA)(),[_,d]=(0,t.useState)(""),[k,u]=(0,t.useState)("All books"),h=(0,r.Zp)(),b=(0,t.useMemo)((()=>e.filter((e=>{var s;const o=parseFloat(e.price);return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(_.toLowerCase()))&&("All books"===k||"from $0 to $15"===k&&o>=0&&o<=15||"from $15 to $30"===k&&o>15&&o<=30||"more than $30"===k&&o>30)}))),[e,_,k]);return(0,t.useEffect)((()=>{c((0,a.zy)())}),[c]),(0,g.jsx)($,{isLoading:s,error:o,filteredBooks:b,handleView:e=>{n?(c((0,i.HL)(e)),h("/books/".concat(e.id)),d("")):h("/login")},isLogin:!!n,textFilter:_,priceFilter:k,handlePriceFilter:e=>{u(e.target.value)},handleTextFilter:e=>{d(e.target.value)}})}}}]);
//# sourceMappingURL=483.bc4933f0.chunk.js.map