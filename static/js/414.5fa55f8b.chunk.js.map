{"version":3,"file":"static/js/414.5fa55f8b.chunk.js","mappings":"oOAuDA,MA+CA,EA/CcA,KACZ,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MA+BjB,OA7BAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAOC,OAAOC,SAASF,KAC7B,GAAIA,EAAM,CACY,IAAIG,gBAAgBH,EAAKI,UAAU,IAC7BC,IAAI,kBAG5BJ,OAAOK,QAAQC,aAAa,KAAM,KAAMN,OAAOC,SAASM,UACxDb,EAAS,KAEb,CAEA,MAAQc,KAAMC,GAAiBC,EAAAA,EAASC,KAAKC,mBAC3CC,MAAOC,EAAOC,KACE,cAAVD,GACFlB,GAASoB,EAAAA,EAAAA,IAAQD,EAAQE,OACzBvB,EAAS,MACU,eAAVoB,GAA2BC,IACpCnB,GAASsB,EAAAA,EAAAA,OACTxB,EAAS,UACX,IAIJ,MAAO,KACLe,EAAaU,aAAaC,aAAa,CACxC,GACA,CAACxB,EAAUF,KAGZ2B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,aAAYC,UAC5BF,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CACHC,eAAgBf,EAAAA,EAChBgB,WAAY,CAAEC,MAAOC,EAAAA,IACrBD,MAAM,OACNE,UAAW,CAAC,SAAU,eAGtB,C","sources":["components/page/Login/Login.jsx"],"sourcesContent":["// import { supabase } from \"../../../client\";\r\n// import { Auth } from \"@supabase/auth-ui-react\";\r\n// import { ThemeSupa } from \"@supabase/auth-ui-shared\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import { useEffect } from \"react\";\r\n// import { setUser, clearUser } from \"../../redux/auth/authSlice\";\r\n// import { useDispatch } from \"react-redux\";\r\n\r\n// const Login = () => {\r\n//   const navigate = useNavigate();\r\n\r\n//   const dispatch = useDispatch();\r\n\r\n//   useEffect(() => {\r\n//     const { data: authListener } = supabase.auth.onAuthStateChange(\r\n//       async (event, session) => {\r\n//         if (event === \"SIGNED_IN\") {\r\n//           dispatch(setUser(session.user));\r\n//           navigate(\"/\");\r\n//         } else if (event === \"SIGNED_OUT\" || !session) {\r\n//           dispatch(clearUser());\r\n//           navigate(\"/login\");\r\n//         }\r\n//       }\r\n//     );\r\n\r\n//     return () => {\r\n//       authListener.subscription.unsubscribe();\r\n//     };\r\n//   }, [dispatch, navigate]);\r\n\r\n//   return (\r\n//     <div className=\"App\">\r\n//       <header className=\"App-header\">\r\n//         <Auth\r\n//           supabaseClient={supabase}\r\n//           appearance={{ theme: ThemeSupa }}\r\n//           theme=\"dark\"\r\n//           providers={[\"github\", \"google\"]}\r\n//         />\r\n//       </header>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Login;\r\n\r\nimport { supabase } from \"../../../client\";\r\nimport { Auth } from \"@supabase/auth-ui-react\";\r\nimport { ThemeSupa } from \"@supabase/auth-ui-shared\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { setUser, clearUser } from \"../../redux/auth/authSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const hash = window.location.hash;\r\n    if (hash) {\r\n      const queryParams = new URLSearchParams(hash.substring(1));\r\n      const token = queryParams.get(\"access_token\");\r\n\r\n      if (token) {\r\n        window.history.replaceState(null, null, window.location.pathname);\r\n        navigate(\"/\");\r\n      }\r\n    }\r\n\r\n    const { data: authListener } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (event === \"SIGNED_IN\") {\r\n          dispatch(setUser(session.user));\r\n          navigate(\"/\");\r\n        } else if (event === \"SIGNED_OUT\" || !session) {\r\n          dispatch(clearUser());\r\n          navigate(\"/login\");\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      authListener.subscription.unsubscribe();\r\n    };\r\n  }, [dispatch, navigate]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <Auth\r\n          supabaseClient={supabase}\r\n          appearance={{ theme: ThemeSupa }}\r\n          theme=\"dark\"\r\n          providers={[\"github\", \"google\"]}\r\n        />\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","navigate","useNavigate","dispatch","useDispatch","useEffect","hash","window","location","URLSearchParams","substring","get","history","replaceState","pathname","data","authListener","supabase","auth","onAuthStateChange","async","event","session","setUser","user","clearUser","subscription","unsubscribe","_jsx","className","children","Auth","supabaseClient","appearance","theme","ThemeSupa","providers"],"sourceRoot":""}