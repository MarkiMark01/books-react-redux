{"version":3,"file":"static/js/483.2ce1069c.chunk.js","mappings":"sOACA,QAAwB,2BAAxB,EAAmE,mCAAnE,EAA6H,0CAA7H,EAA0L,sCAA1L,EAA6O,gCAA7O,EAA6R,mCAA7R,EAAiV,oCAAjV,EAAoY,kCAApY,EAAmb,gCAAnb,EAAme,mCAAne,EAAqhB,kCAArhB,EAA2kB,uCAA3kB,EAAuoB,wCCiBvoB,EAhBoBA,CAACC,EAAOC,KACxB,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAASJ,GAYrD,OAVAK,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAAUC,YAAW,KACvBJ,EAAkBH,EAAM,GACzBC,GAEH,MAAO,KACHO,aAAaF,EAAQ,CACxB,GACF,CAACN,EAAOC,IAEJC,CAAc,E,aCTzB,MA2FA,EA3FwBO,IASjB,IATkB,UACvBC,EAAS,MACTC,EAAK,cACLC,EAAa,WACbC,EAAU,WACVC,EAAU,YACVC,EAAW,kBACXC,EAAiB,iBACjBC,GACDR,EACC,MAAM,EAAES,IAAMC,EAAAA,EAAAA,OACPC,EAAiBC,IAAsBjB,EAAAA,EAAAA,UAASU,GAEjDQ,EAAsBvB,EAAYqB,EAAiB,MAEzDf,EAAAA,EAAAA,YAAU,KACRY,EAAiB,CAAEM,OAAQ,CAAEvB,MAAOsB,IAAwB,GAC3D,CAACA,EAAqBL,IAMzB,OACEO,EAAAA,EAAAA,KAAA,QAAAC,UACEC,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAaH,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAqBH,SAAA,EACvCD,EAAAA,EAAAA,KAAA,SACEK,KAAK,OACLC,YAAaZ,EAAE,wBACflB,MAAOoB,EACPW,SAZgBC,IACxBX,EAAmBW,EAAET,OAAOvB,MAAM,EAY1B2B,UAAWC,KAEbF,EAAAA,EAAAA,MAAA,UACE1B,MAAOe,EACPgB,SAAUf,EACVW,UAAWC,EAA0BH,SAAA,EAErCD,EAAAA,EAAAA,KAAA,UAAQxB,MAAM,YAAWyB,SAAEP,EAAE,gBAC7BM,EAAAA,EAAAA,KAAA,UAAQxB,MAAM,iBAAgByB,SAAEP,EAAE,qBAClCM,EAAAA,EAAAA,KAAA,UAAQxB,MAAM,kBAAiByB,SAAEP,EAAE,sBACnCM,EAAAA,EAAAA,KAAA,UAAQxB,MAAM,gBAAeyB,SAAEP,EAAE,0BAGrCM,EAAAA,EAAAA,KAAA,WAASG,UAAWC,EAA4BH,SAC7Cf,GACCc,EAAAA,EAAAA,KAACS,EAAAA,EAAM,IACLtB,GACFe,EAAAA,EAAAA,MAAA,KAAGQ,MAAO,CAAEC,SAAU,QAASV,SAAA,CAC5BP,EAAE,SAAS,KAAGP,MAGjBa,EAAAA,EAAAA,KAAA,OAAAC,SACGb,EAAcwB,OAAS,GACtBZ,EAAAA,EAAAA,KAAA,MAAIG,UAAWC,EAAwBH,SACpCb,EAAcyB,KAAKC,IAClBZ,EAAAA,EAAAA,MAAA,MAAkBC,UAAWC,EAAkBH,SAAA,EAC7CD,EAAAA,EAAAA,KAAA,OACEe,IAAKD,EAAKE,MACVC,IAAKvB,EAAE,cACPS,UAAWC,KAEbJ,EAAAA,EAAAA,KAAA,KAAGG,UAAWC,EAAoBH,SAAEa,EAAKI,SACzClB,EAAAA,EAAAA,KAAA,KAAGG,UAAWC,EAAqBH,SAAEa,EAAKK,UAC1CjB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAsBH,SAAA,EACpCC,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAoBH,SAAA,CAAC,IAAEa,EAAKM,UAC1CpB,EAAAA,EAAAA,KAAA,UACEK,KAAK,SACLgB,QAASA,KACPhC,EAAWyB,EAAK,EAElBX,UAAWC,EAAqBH,SAE/BP,EAAE,eAjBAoB,EAAKQ,SAwBlBtB,EAAAA,EAAAA,KAAA,KAAGU,MAAO,CAAEC,SAAU,QAASV,SAAEP,EAAE,gCAMxC,ECjBX,EApEc6B,KACZ,MAAMC,GAAQC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMF,MAAMA,QAC3CtC,GAAYuC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMF,MAAMtC,YAC/CC,GAAQsC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMF,MAAMrC,QAE3CwC,GAAWC,EAAAA,EAAAA,OAEVtC,EAAYuC,IAAiBjD,EAAAA,EAAAA,UAAS,KACtCW,EAAauC,IAAkBlD,EAAAA,EAAAA,UAAS,aAEzCmD,GAAWC,EAAAA,EAAAA,MAEXC,GAAUC,EAAAA,EAAAA,KAEV9C,GAAgB+C,EAAAA,EAAAA,UAAQ,IACrBX,EAAMY,QAAQtB,IAAU,IAADuB,EAC5B,MAAMC,EAAeC,WAAWzB,EAAKM,OACrC,OACY,QAAViB,EAAAvB,EAAKI,aAAK,IAAAmB,OAAA,EAAVA,EAAYG,cAAcC,SAASnD,EAAWkD,kBAC7B,cAAhBjD,GACkB,mBAAhBA,GACC+C,GAAgB,GAChBA,GAAgB,IACD,oBAAhB/C,GACC+C,EAAe,IACfA,GAAgB,IACD,kBAAhB/C,GAAmC+C,EAAe,GAAI,KAG5D,CAACd,EAAOlC,EAAYC,IAwBvB,OAJAV,EAAAA,EAAAA,YAAU,KACR8C,GAASe,EAAAA,EAAAA,MAAW,GACnB,CAACf,KAGF3B,EAAAA,EAAAA,KAAC2C,EAAe,CACdzD,UAAWA,EACXC,MAAOA,EACPC,cAAeA,EACfC,WAnBgByB,IACbmB,GAILN,GAASiB,EAAAA,EAAAA,IAAc9B,IACvBiB,EAAS,UAADc,OAAW/B,EAAKQ,KACxBO,EAAc,KALZE,EAAS,SAKM,EAafE,QAASA,EACT3C,WAAYA,EACZC,YAAaA,EACbC,kBA3BuBgB,IACzBsB,EAAetB,EAAET,OAAOvB,MAAM,EA2B5BiB,iBAhCsBe,IACxBqB,EAAcrB,EAAET,OAAOvB,MAAM,GAgC3B,C","sources":["webpack://books-react-redux/./src/components/page/Books/stylesBooks.module.scss?95b7","components/shared/hooks/useDebounce.jsx","components/page/Books/BooksComponents.jsx","components/page/Books/Books.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"books\":\"stylesBooks_books__nq-O4\",\"books__filter\":\"stylesBooks_books__filter__pBXbE\",\"books__mainContainer\":\"stylesBooks_books__mainContainer__C78Vp\",\"books__container\":\"stylesBooks_books__container__gfbRX\",\"books__box\":\"stylesBooks_books__box__a8t07\",\"books__button\":\"stylesBooks_books__button__STDJc\",\"book__purchase\":\"stylesBooks_book__purchase__1ClSN\",\"books__title\":\"stylesBooks_books__title__o2YKE\",\"books__img\":\"stylesBooks_books__img__yU0Ih\",\"books__author\":\"stylesBooks_books__author__sm+0k\",\"books__price\":\"stylesBooks_books__price__nODHa\",\"books__filterText\":\"stylesBooks_books__filterText__K7N3t\",\"books__filterPrice\":\"stylesBooks_books__filterPrice__d40r6\"};","import { useState, useEffect } from 'react';\r\n\r\nconst useDebounce = (value, delay) => {\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n    useEffect(() => {\r\n        const handler = setTimeout(() => {\r\n            setDebouncedValue(value);\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(handler);\r\n        };\r\n    }, [value, delay]);\r\n\r\n    return debouncedValue;\r\n};\r\n\r\nexport default useDebounce;","import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Loader } from \"../../shared/loader\";\r\nimport styles from \"./stylesBooks.module.scss\";\r\nimport useDebounce from \"../../shared/hooks/useDebounce\";\r\n\r\nconst BooksComponents = ({\r\n  isLoading,\r\n  error,\r\n  filteredBooks,\r\n  handleView,\r\n  textFilter,\r\n  priceFilter,\r\n  handlePriceFilter,\r\n  handleTextFilter,\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const [localTextFilter, setLocalTextFilter] = useState(textFilter);\r\n\r\n  const debouncedTextFilter = useDebounce(localTextFilter, 400);\r\n\r\n  useEffect(() => {\r\n    handleTextFilter({ target: { value: debouncedTextFilter } });\r\n  }, [debouncedTextFilter, handleTextFilter]);\r\n\r\n  const handleTextChange = (e) => {\r\n    setLocalTextFilter(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <section className={styles.books}>\r\n        <section className={styles.books__filter}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder={t(\"Search by book title\")}\r\n            value={localTextFilter}\r\n            onChange={handleTextChange}\r\n            className={styles.books__filterText}\r\n          />\r\n          <select\r\n            value={priceFilter}\r\n            onChange={handlePriceFilter}\r\n            className={styles.books__filterPrice}\r\n          >\r\n            <option value=\"All books\">{t(\"All books\")}</option>\r\n            <option value=\"from $0 to $15\">{t(\"from $0 to $15\")}</option>\r\n            <option value=\"from $15 to $30\">{t(\"from $15 to $30\")}</option>\r\n            <option value=\"more than $30\">{t(\"more than $30\")}</option>\r\n          </select>\r\n        </section>\r\n        <section className={styles.books__mainContainer}>\r\n          {isLoading ? (\r\n            <Loader />\r\n          ) : error ? (\r\n            <p style={{ fontSize: \"20px\" }}>\r\n              {t(\"Error\")}: {error}\r\n            </p>\r\n          ) : (\r\n            <div>\r\n              {filteredBooks.length > 0 ? (\r\n                <ul className={styles.books__container}>\r\n                  {filteredBooks.map((book) => (\r\n                    <li key={book.id} className={styles.books__box}>\r\n                      <img\r\n                        src={book.image}\r\n                        alt={t(\"Book cover\")}\r\n                        className={styles.books__img}\r\n                      />\r\n                      <p className={styles.books__title}>{book.title}</p>\r\n                      <p className={styles.books__author}>{book.author}</p>\r\n                      <div className={styles.book__purchase}>\r\n                        <p className={styles.books__price}>${book.price}</p>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            handleView(book);\r\n                          }}\r\n                          className={styles.books__button}\r\n                        >\r\n                          {t(\"View\")}\r\n                        </button>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <p style={{ fontSize: \"20px\" }}>{t(\"Books not found...\")}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default BooksComponents;\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { getBooks } from \"../../redux/books/booksOperations\";\r\nimport { setUniqueBook } from \"../../redux/books/booksSlice\";\r\nimport useAuth from \"../../shared/hooks/useAuth\";\r\nimport BooksComponents from \"./BooksComponents\";\r\n\r\nconst Books = () => {\r\n  const books = useSelector((state) => state.books.books);\r\n  const isLoading = useSelector((state) => state.books.isLoading);\r\n  const error = useSelector((state) => state.books.error);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [textFilter, setTextFilter] = useState(\"\");\r\n  const [priceFilter, setPriceFilter] = useState(\"All books\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const isLogin = useAuth();\r\n\r\n  const filteredBooks = useMemo(() => {\r\n    return books.filter((book) => {\r\n      const numericPrice = parseFloat(book.price);\r\n      return (\r\n        book.title?.toLowerCase().includes(textFilter.toLowerCase()) &&\r\n        (priceFilter === \"All books\" ||\r\n          (priceFilter === \"from $0 to $15\" &&\r\n            numericPrice >= 0 &&\r\n            numericPrice <= 15) ||\r\n          (priceFilter === \"from $15 to $30\" &&\r\n            numericPrice > 15 &&\r\n            numericPrice <= 30) ||\r\n          (priceFilter === \"more than $30\" && numericPrice > 30))\r\n      );\r\n    });\r\n  }, [books, textFilter, priceFilter]);\r\n\r\n  const handleTextFilter = (e) => {\r\n    setTextFilter(e.target.value);\r\n  };\r\n\r\n  const handlePriceFilter = (e) => {\r\n    setPriceFilter(e.target.value);\r\n  };\r\n\r\n  const handleView = (book) => {\r\n    if (!isLogin) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    dispatch(setUniqueBook(book));\r\n    navigate(`/books/${book.id}`);\r\n    setTextFilter(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getBooks());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <BooksComponents\r\n      isLoading={isLoading}\r\n      error={error}\r\n      filteredBooks={filteredBooks}\r\n      handleView={handleView}\r\n      isLogin={isLogin}\r\n      textFilter={textFilter}\r\n      priceFilter={priceFilter}\r\n      handlePriceFilter={handlePriceFilter}\r\n      handleTextFilter={handleTextFilter}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Books;\r\n"],"names":["useDebounce","value","delay","debouncedValue","setDebouncedValue","useState","useEffect","handler","setTimeout","clearTimeout","_ref","isLoading","error","filteredBooks","handleView","textFilter","priceFilter","handlePriceFilter","handleTextFilter","t","useTranslation","localTextFilter","setLocalTextFilter","debouncedTextFilter","target","_jsx","children","_jsxs","className","styles","type","placeholder","onChange","e","Loader","style","fontSize","length","map","book","src","image","alt","title","author","price","onClick","id","Books","books","useSelector","state","dispatch","useDispatch","setTextFilter","setPriceFilter","navigate","useNavigate","isLogin","useAuth","useMemo","filter","_book$title","numericPrice","parseFloat","toLowerCase","includes","getBooks","BooksComponents","setUniqueBook","concat"],"sourceRoot":""}