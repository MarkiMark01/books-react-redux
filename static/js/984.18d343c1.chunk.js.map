{"version":3,"file":"static/js/984.18d343c1.chunk.js","mappings":"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","sources":["webpack://books-react-redux/./src/components/shared/styles/stylesGoogleIcon.module.scss?a258","Assets/IconGoogle.jsx","webpack://books-react-redux/./src/components/page/Signin/stylesSignin.module.scss?73b9","components/page/Modal/ModalSignUp.jsx","components/page/Signin/Signin.jsx","webpack://books-react-redux/./src/components/page/Modal/stylesModal.module.scss?8d18"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"googleSvg\":\"stylesGoogleIcon_googleSvg__S63wT\"};","import React from \"react\";\r\n// import styles from \"../components/page/Login/stylesLogin.module.scss\";\r\nimport styles from \"../components/shared/styles/stylesGoogleIcon.module.scss\";\r\n\r\nconst IconGoogle = () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 48 48\"\r\n      className={styles.googleSvg}\r\n    >\r\n      <g>\r\n        <path\r\n          fill=\"#EA4335\"\r\n          d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#4285F4\"\r\n          d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#FBBC05\"\r\n          d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"\r\n        ></path>\r\n        <path\r\n          fill=\"#34A853\"\r\n          d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"\r\n        ></path>\r\n        <path fill=\"none\" d=\"M0 0h48v48H0z\"></path>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\nexport default IconGoogle;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"login\":\"stylesSignin_login__J0WZ5\",\"loginBox\":\"stylesSignin_loginBox__d6MgJ\",\"login__container\":\"stylesSignin_login__container__p7Bzw\",\"login__buttons\":\"stylesSignin_login__buttons__1v58+\",\"login__btn\":\"stylesSignin_login__btn__o6Lkx\",\"login__container2\":\"stylesSignin_login__container2__+ragH\",\"googleBtn\":\"stylesSignin_googleBtn__yf1Zl\",\"login__log\":\"stylesSignin_login__log__CJcG6\",\"login__sign\":\"stylesSignin_login__sign__TLT3q\",\"login__name\":\"stylesSignin_login__name__h0ccL\",\"login__title\":\"stylesSignin_login__title__o5DzW\",\"login__text\":\"stylesSignin_login__text__WkJk+\",\"login__link\":\"stylesSignin_login__link__w1itR\",\"login__status\":\"stylesSignin_login__status__tCz-w\"};","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./stylesModal.module.scss\";\r\nimport useModal from \"../../shared/hooks/useModal\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function ModalWindow({ onClose }) {\r\n  useModal(onClose);\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.modal__backdrop} onClick={handleBackdropClick}>\r\n      <div className={styles.modal__content2}>\r\n        <section className={styles.modal__login}>\r\n          <article>Enter your email and password or log in, please :)</article>\r\n          <button className={styles.modal__ok} onClick={handleBackdropClick}>\r\n            Ok\r\n          </button>\r\n        </section>\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate, NavLink } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useGoogleLogin } from \"@react-oauth/google\";\r\n\r\nimport { signup } from \"../../redux/auth/authOperations\";\r\nimport { getAuthError } from \"../../redux/auth/authSelectors\";\r\nimport { googleLoginSuccess } from \"../../redux/auth/authSlice\";\r\nimport useAuth from \"../../shared/hooks/useAuth\";\r\nimport styles from \"./stylesSignin.module.scss\";\r\nimport IconGoogle from \"../../../Assets/IconGoogle\";\r\nimport ModalWindow from \"../Modal/ModalSignUp\";\r\n\r\nconst Signin = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const { status, message } = useSelector(getAuthError);\r\n  const isLogin = useAuth();\r\n\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n\r\n  const openModal = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    console.log(\"Closing modal\");\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const onRegister = (e) => {\r\n    e.preventDefault();\r\n    if (email.trim() === \"\" || password.trim() === \"\") {\r\n      openModal();\r\n    }\r\n    const data = { name, email, password };\r\n    dispatch(signup(data));\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  const loginGoogle = useGoogleLogin({\r\n    onSuccess: async (response) => {\r\n      try {\r\n        const res = await axios.get(\r\n          \"https://www.googleapis.com/oauth2/v3/userinfo\",\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${response.access_token}`,\r\n            },\r\n          }\r\n        );\r\n        dispatch(\r\n          googleLoginSuccess({\r\n            data: {\r\n              name: res.data.name,\r\n              email: res.data.email,\r\n            },\r\n          })\r\n        );\r\n        navigate(\"/\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  });\r\n\r\n  if (isLogin) {\r\n    navigate(\"/\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main>\r\n        <section className={styles.login}>\r\n          <section className={styles.loginBox}>\r\n            <form onSubmit={onRegister} className={styles.login__container2}>\r\n              <h1 className={styles.login__title}>{t(\"Sign up\")}</h1>\r\n              <input\r\n                type=\"text\"\r\n                placeholder={t(\"Your name\")}\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                className={styles.login__name}\r\n                required\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder={t(\"Email address\")}\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className={styles.login__log}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                placeholder={t(\"Password\")}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className={styles.login__sign}\r\n              />\r\n              <section className={styles.login__buttons}>\r\n                <button type=\"submit\" className={styles.login__btn}>\r\n                  {t(\"Register\")}\r\n                </button>\r\n              </section>\r\n            </form>\r\n            <button onClick={loginGoogle} className={styles.googleBtn}>\r\n              <IconGoogle />\r\n              Sign in with Google\r\n            </button>\r\n            <section className={styles.login__text}>\r\n              <div>\r\n                <span>{t(\"Already have an account?\")}</span>\r\n              </div>\r\n            </section>\r\n            <NavLink to={\"/login\"} className={styles.login__link}>\r\n              {t(\"Log in\")}\r\n            </NavLink>\r\n          </section>\r\n          {status && <p className={styles.login__status}>{message}</p>}\r\n        </section>\r\n        {isModalOpen && <ModalWindow onClose={closeModal}></ModalWindow>}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal__backdrop\":\"stylesModal_modal__backdrop__1VQU+\",\"modal__content2\":\"stylesModal_modal__content2__oxG5j\",\"modal__login\":\"stylesModal_modal__login__LLRUK\",\"modal__ok\":\"stylesModal_modal__ok__X3mRF\"};"],"names":["IconGoogle","_jsx","version","xmlns","viewBox","className","styles","children","_jsxs","fill","d","modalRoot","document","querySelector","ModalWindow","_ref","onClose","useModal","handleBackdropClick","e","currentTarget","target","createPortal","modal__backdrop","onClick","modal__content2","modal__login","modal__ok","Signin","name","setName","useState","email","setEmail","password","setPassword","isModalOpen","setIsModalOpen","status","message","useSelector","getAuthError","isLogin","useAuth","dispatch","useDispatch","t","useTranslation","navigate","useNavigate","loginGoogle","useGoogleLogin","onSuccess","async","res","axios","get","headers","Authorization","concat","response","access_token","googleLoginSuccess","data","error","console","log","_Fragment","onSubmit","preventDefault","trim","signup","type","placeholder","value","onChange","required","NavLink","to","closeModal"],"sourceRoot":""}